{"version":3,"sources":["images/logo.svg","images/success-icon.svg","images/fail-icon.svg","utils/api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/utils.js","components/FormValidator.js","components/PopupWithForm.js","components/PopupWithSubmit.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RegisterLoginTemplate.js","components/Login.js","components/ProtectedRoute.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","components/App.js","utils/token.js","serviceWorker.js","index.js"],"names":["module","exports","api","baseUrl","headers","this","res","ok","json","Promise","reject","Error","status","label","fetch","concat","then","_getResponseData","item","method","body","JSON","stringify","title","cardId","notLiked","replaceItem","deleteItem","id","authorization","Header","onSignOut","email","userEmail","className","href","src","logoPath","alt","path","to","onClick","CurrentUserContext","React","createContext","Card","onCardClick","card","onCardLike","onCardDelete","owner","likes","name","link","currentUserData","useContext","isOwn","_id","cardLikeButtonClassName","some","i","evt","placeEvt","target","closest","length","Main","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","cards","style","backgroundImage","avatar","about","map","key","Footer","formSelectorsObj","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorActiveClass","controlSelector","FormValidator","formElement","_formSelectorsObj","_formElement","_inputList","Array","from","querySelectorAll","_buttonElement","querySelector","_inactiveButtonClass","_inputErrorClass","_errorActiveClass","_controlSelector","inputElement","errorMessage","errorElement","_findInputError","textContent","classList","add","remove","inputElementNoSpacing","value","trim","_isInputWithoutSpacingInvalid","validity","valid","_hideInputError","_showInputError","validationMessage","alert","hasInvalidInput","_toggleButtonState","forEach","addEventListener","_checkInputValidity","_setEventListeners","PopupWithForm","buttonText","isOpen","onClose","onSubmit","children","formValidate","currentForm","document","formValidator","enableValidation","closeReset","reset","window","removeEventListener","handleEscClose","event","currentTarget","noValidate","e","preventDefault","autoFocus","type","PopupWithSubmit","cardDOM","onCardDeleteSubmit","ImagePopup","close","EditProfilePopup","onUpdateUser","currentUser","useState","setName","description","setDescription","useEffect","onChange","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardDescription","setCardDescription","RegisterLoginTemplate","Login","onLogin","message","loggedIn","password","data","setData","handleChange","prevData","ProtectedRoute","Component","component","props","Register","onRegister","InfoTooltip","isSuccess","success","fail","BASE_URL","getResponseData","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","isImgPopupOpen","setIsImgPopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","setCards","setCurrentUser","selectedCard","setSelectedCard","selectedCardDOM","setSelectedCardDOM","setUserEmail","setLoggedIn","history","useHistory","setMessage","registerSuccess","setRegisterSuccess","closeAllPopups","inputErrors","error","cleanInputErrors","renderLoading","isLoading","button","text","infoTooltipOpen","all","getItems","values","userData","serverCards","items","catch","err","console","log","tokenCheck","jwt","localStorage","getItem","token","Accept","Authorization","auth","userCurrentEmail","push","Provider","removeItem","setItem","setToken","isLiked","changeLikeCardStatus","newCard","newCards","c","cardDOMElement","profileSubmitButton","changeItem","finally","placeSubmitButton","createItem","avatarSubmitButton","cardDeleteSubmitButton","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.68440aa1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.a56cd5e0.svg\";","module.exports = __webpack_public_path__ + \"static/media/success-icon.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail-icon.c32299fa.svg\";","class Api {\r\n    constructor({ baseUrl, headers }) {\r\n        this.baseUrl = baseUrl\r\n        this.headers = headers\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n    }\r\n    getItems(label) {\r\n        return fetch(this.baseUrl.concat(label), {\r\n            headers: this.headers,\r\n        }).then((res) => {\r\n            return this._getResponseData(res)\r\n        })\r\n    }\r\n\r\n    createItem(item, label) {\r\n        return fetch(this.baseUrl.concat(label), {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify(item),\r\n        }).then((res) => {\r\n            return this._getResponseData(res)\r\n        })\r\n    }\r\n\r\n    changeItem(item, title) {\r\n        return fetch(this.baseUrl.concat(title), {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify(item),\r\n        }).then((res) => {\r\n            return this._getResponseData(res)\r\n        })\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, notLiked) {\r\n        if (notLiked) {\r\n            return this.replaceItem('cards/likes', cardId)\r\n        } else {\r\n            return this.deleteItem('cards/likes', cardId)\r\n        }\r\n    }\r\n\r\n    replaceItem(title, id) {\r\n        return fetch(this.baseUrl.concat(title).concat(`/${id}`), {\r\n            method: 'PUT',\r\n            headers: this.headers,\r\n            // body: JSON.stringify(item)\r\n        }).then((res) => {\r\n            return this._getResponseData(res)\r\n        })\r\n    }\r\n\r\n    deleteItem(title, id) {\r\n        return fetch(this.baseUrl.concat(title).concat(`/${id}`), {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        }).then((res) => {\r\n            return this._getResponseData(res)\r\n        })\r\n    }\r\n}\r\n\r\nconst token = '3829caf2-6683-412f-9e00-d0870fcd1817'\r\nconst cohort = 'cohort-14'\r\n\r\nconst api = new Api({\r\n    baseUrl: `https://mesto.nomoreparties.co/v1/${cohort}/`,\r\n    headers: {\r\n        authorization: token,\r\n        'Content-Type': 'application/json',\r\n    },\r\n})\r\n\r\nexport default api\r\n\r\n//  - получить список всех карточек в виде массива (GET)\r\n//  - добавить карточку (POST)\r\n//  - удалить карточку (DELETE)\r\n//  - получить данные пользователя (GET)\r\n//  - заменить данные пользователя (PATCH)\r\n//  - заменить аватар (PATCH)\r\n//  - “залайкать” карточку (PUT)\r\n//  - удалить лайк карточки (DELETE)\r\n","import React from 'react'\nimport logoPath from '../images/logo.svg'\nimport { Route, Switch, Link } from 'react-router-dom'\n\nfunction Header({ onSignOut, userEmail }) {\n    const { email } = userEmail\n    return (\n        <header className=\"header page__header section\">\n            <a href=\"/\" className=\"logo header__logo\">\n                <img\n                    className=\"logo__image\"\n                    src={logoPath}\n                    alt=\"Логотип проекта Mesto\"\n                />\n            </a>\n            <Switch>\n                <Route path=\"/sign-up\">\n                    <Link to=\"./sign-in\" className=\"link header__link\">\n                        Вход\n                    </Link>\n                </Route>\n                <Route path=\"/sign-in\">\n                    <Link to=\"./sign-up\" className=\"link header__link\">\n                        Регистрация\n                    </Link>\n                </Route>\n                <Route path=\"/\">\n                    <div className=\"header__user-info\">\n                        <p className=\"header__email\">{email}</p>\n                        <button onClick={onSignOut} className=\"header__button\">\n                            Выйти\n                        </button>\n                    </div>\n                </Route>\n            </Switch>\n        </header>\n    )\n}\n\nexport default Header\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nexport default function Card({\n    onCardClick,\n    card,\n    onCardLike,\n    onCardDelete,\n    owner,\n    likes,\n    name,\n    link,\n}) {\n    // будет открывать попап с картинкой\n    function handleClick() {\n        onCardClick(card)\n    }\n    function handleLike() {\n        onCardLike(card)\n    }\n    function handleDelete(evt) {\n        //сохраняет дом элемент, который надо будет удалить из разметки\n        const placeEvt = evt.target.closest('.places__item')\n        onCardDelete(card, placeEvt)\n    }\n    const currentUserData = React.useContext(CurrentUserContext)\n\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = owner._id === currentUserData._id\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = likes.some((i) => i._id === currentUserData._id)\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = isLiked\n        ? 'place__like-button place__like-button_active'\n        : 'place__like-button'\n\n    return (\n        <li className=\"places__item\">\n            <figure className=\"place\">\n                {/* проверит, моя ли карточка и отключит кнопку удаления у чужих */}\n                <button\n                    className={\n                        isOwn\n                            ? 'link place__delete-button'\n                            : 'link place__delete-button place__delete-button_disabled'\n                    }\n                    onClick={handleDelete}\n                />\n                <img\n                    src={link}\n                    alt={name}\n                    className=\"place__image\"\n                    onClick={handleClick}\n                />\n                <div className=\"place__wrapper\">\n                    <h2 className=\"place__name\">{name} </h2>\n                    <button className=\"place__like-button-container\">\n                        {/* проверит, залайкана ли мной ранее карточка*/}\n                        <div\n                            className={cardLikeButtonClassName}\n                            onClick={handleLike}\n                        ></div>\n                        <div className=\"place__like-counter\">\n                            {likes.length}\n                        </div>\n                    </button>\n                </div>\n            </figure>\n        </li>\n    )\n}\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({\n    onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    handleCardClick,\n    cards,\n    onCardLike,\n    onCardDelete,\n    ...rest\n}) {\n    const currentUserData = React.useContext(CurrentUserContext)\n\n    return (\n        <main className=\"content page__content section\">\n            <section className=\"profile section\">\n                <div\n                    className=\"profile__image\"\n                    onClick={onEditAvatar}\n                    style={{\n                        backgroundImage: `url(${currentUserData.avatar})`,\n                    }}\n                ></div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__name-wrap\">\n                        <h1 className=\"profile__name\">\n                            {currentUserData.name}\n                        </h1>\n                        <button\n                            className=\"link profile__edit-button\"\n                            onClick={onEditProfile}\n                        />\n                    </div>\n                    <p className=\"profile__job\">{currentUserData.about}</p>\n                </div>\n                <button\n                    className=\"link profile__add-button\"\n                    onClick={onAddPlace}\n                />\n            </section>\n            <section className=\"places section\">\n                <ul className=\"places__list\">\n                    <li className=\"places__empty-list\">Нет добавленных мест</li>\n                    {cards.map((card) => (\n                        <Card\n                            key={card._id}\n                            onCardClick={handleCardClick}\n                            card={card}\n                            onCardLike={onCardLike}\n                            onCardDelete={onCardDelete}\n                            {...card}\n                        />\n                    ))}\n                </ul>\n            </section>\n        </main>\n    )\n}\n\nexport default Main\n\n// // для проверки, есть ли в списке картинки, если нет, то делает видимой надпись о пустом списке\n// //в placesList всегда есть минимум 1 элемент - надпись о пустом списке\n// function check() {\n//     const placesList = document.querySelector('.places__list')\n//     return (placesList.children.length === 1? \"places__empty-list places__empty-list_visible\" : \"places__empty-list\")\n// }\n","import React from 'react'\n\nfunction Footer() {\n    return (\n        <footer className=\"footer section page__footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer\n","// объект настроек с селекторами и классами формы\r\nexport const formSelectorsObj = {\r\n    formSelector: '.popup__form',\r\n    inputSelector: '.popup__input',\r\n    submitButtonSelector: '.popup__save-button',\r\n    inactiveButtonClass: 'popup__save-button_disabled',\r\n    inputErrorClass: '.popup__input-error',\r\n    errorActiveClass: 'popup__input-error_active',\r\n    controlSelector: '.popup__label',\r\n}\r\n","//кейсы проверки валидности\nconst VALID = 0\nconst INVALID_EMPTY = 1\nconst INVALID_TOOSHORT = 2\n\n//скрывает уведомления об ошибках в инпутах (используется на открытом попапе в index.js)\nexport function cleanInputErrors() {\n    const inputErrors = document.querySelectorAll('.popup__input-error')\n\n    if (inputErrors) {\n        inputErrors.forEach((error) =>\n            error.classList.remove('popup__input-error_active')\n        )\n    }\n}\n\nexport class FormValidator {\n    constructor(formSelectorsObj, formElement) {\n        this._formSelectorsObj = formSelectorsObj\n        this._formElement = formElement\n        this._inputList = Array.from(\n            formElement.querySelectorAll(formSelectorsObj.inputSelector)\n        )\n        this._buttonElement = formElement.querySelector(\n            formSelectorsObj.submitButtonSelector\n        )\n        this._inactiveButtonClass = formSelectorsObj.inactiveButtonClass\n        this._inputErrorClass = formSelectorsObj.inputErrorClass\n        this._errorActiveClass = formSelectorsObj.errorActiveClass\n        this._controlSelector = formSelectorsObj.controlSelector\n    }\n\n    // находит элемент ошибки в ближайшем к текущему инпуту лэйбле\n    _findInputError(inputElement) {\n        return inputElement\n            .closest(this._controlSelector)\n            .querySelector(this._inputErrorClass)\n    }\n\n    //показывает сообщение об ошибке\n    _showInputError(inputElement, errorMessage) {\n        const errorElement = this._findInputError(inputElement)\n        errorElement.textContent = errorMessage\n        errorElement.classList.add(this._errorActiveClass)\n    }\n\n    //скрывает сообщение об ошибке\n    _hideInputError(inputElement) {\n        const errorElement = this._findInputError(inputElement)\n        errorElement.classList.remove(this._errorActiveClass)\n        errorElement.textContent = ''\n    }\n\n    //проверяет длину инпутов, очищенных от пробелов\n    _isInputWithoutSpacingInvalid(inputElement) {\n        const inputElementNoSpacing = inputElement.value.trim()\n\n        if (inputElementNoSpacing.length === 0) {\n            return INVALID_EMPTY\n        }\n        //если введено меньше 2 символов\n        if (inputElementNoSpacing.length < 2) {\n            return INVALID_TOOSHORT\n        }\n        return VALID\n    }\n\n    //проверяет валидность инпутов с учетом пробелов и выводит на стр соответствующие ошибки\n    _checkInputValidity(inputElement) {\n        const errorElement = this._findInputError(inputElement)\n\n        switch (this._isInputWithoutSpacingInvalid(inputElement)) {\n            //если поле пусто, не считая пробелы\n            case INVALID_EMPTY:\n                errorElement.textContent = 'Заполните это поле.'\n                errorElement.classList.add(this._errorActiveClass)\n                break\n            //если выбросить пробелы и в поле 1 символ\n            case INVALID_TOOSHORT:\n                errorElement.textContent =\n                    'Текст должен быть не короче 2 симв. Длина текста сейчас: 1 символ.'\n                errorElement.classList.add(this._errorActiveClass)\n                break\n            //если без пробелов в поле 2 символа, то проверим их валидность\n            case VALID:\n                if (!inputElement.validity.valid) {\n                    this._showInputError(\n                        inputElement,\n                        inputElement.validationMessage\n                    )\n                } else {\n                    this._hideInputError(inputElement)\n                }\n                break\n\n            default:\n                alert('error')\n        }\n    }\n\n    //вернет true, если есть невалидный инпут (с учетом проверки пробелов)\n    hasInvalidInput() {\n        return this._inputList.some((inputElement) => {\n            return (\n                !inputElement.validity.valid ||\n                this._isInputWithoutSpacingInvalid(inputElement)\n            )\n        })\n    }\n\n    //(раз)блокирует кнопку submit, если есть невалидные инпуты\n    _toggleButtonState() {\n        if (this.hasInvalidInput()) {\n            this._buttonElement.classList.add(this._inactiveButtonClass)\n        } else {\n            this._buttonElement.classList.remove(this._inactiveButtonClass)\n        }\n    }\n\n    _setEventListeners() {\n        //устанавливает состояние кнопки submit еще до изменения инпутов\n        this._toggleButtonState()\n        //прослушки для инпутов\n        this._inputList.forEach((inputElement) => {\n            inputElement.addEventListener('input', () => {\n                this._checkInputValidity(inputElement)\n                this._toggleButtonState()\n            })\n        })\n    }\n    enableValidation() {\n        this._setEventListeners()\n    }\n}\n","import React from 'react'\nimport { formSelectorsObj } from '../utils/utils'\nimport { FormValidator } from './FormValidator'\n\nfunction PopupWithForm({\n    title,\n    name,\n    buttonText,\n    isOpen,\n    onClose,\n    onSubmit,\n    children,\n}) {\n    function formValidate() {\n        if (isOpen) {\n            const currentForm = document.querySelector(\n                `.popup__form_type_${name}`\n            )\n            // будет валидировать форму\n            const formValidator = new FormValidator(\n                formSelectorsObj,\n                currentForm\n            )\n            formValidator.enableValidation()\n            return !formValidator.hasInvalidInput()\n        }\n    }\n    formValidate()\n\n    // очистит форму от введенного в инпут текста, ошибок валидации и закроет попап\n    function closeReset() {\n        document.querySelector(`.popup__form_type_${name}`).reset()\n        onClose()\n        window.removeEventListener('keydown', handleEscClose)\n    }\n    //закрывает при нажатии esc\n    function handleEscClose(evt) {\n        if (evt.key === 'Escape') {\n            closeReset()\n        }\n    }\n    //закрывает попап при нажатии на фон\n    function closePopupByClickingOverlay(event) {\n        if (event.target === event.currentTarget) {\n            closeReset()\n        }\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        if (formValidate()) {\n            onSubmit(e)\n            document.querySelector(`.popup__form_type_${name}`).reset()\n        }\n    }\n    // проверяет нажатие esc\n    if (isOpen) {\n        window.addEventListener('keydown', (evt) => handleEscClose(evt))\n    }\n\n    return (\n        <section\n            className={`popup popup_type_form popup_type_${name} ${\n                isOpen && 'popup_opened'\n            }`}\n            onClick={closePopupByClickingOverlay}\n        >\n            <div className=\"popup__container\">\n                <button\n                    className=\"link popup__close-button\"\n                    onClick={closeReset}\n                />\n                <form\n                    className={`popup__form popup__form_type_${name}`}\n                    noValidate\n                    name={name}\n                    onSubmit={handleSubmit}\n                >\n                    <h2 className=\"popup__title\">{title}</h2>\n                    <fieldset className=\"popup__fieldset\">\n                        {children}\n                        <button\n                            className={`link popup__save-button popup__save-button_type_${name}`}\n                            autoFocus\n                            type=\"submit\"\n                        >\n                            {buttonText}\n                        </button>\n                    </fieldset>\n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default PopupWithForm\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction PopupWithSubmit({\n    title,\n    name,\n    card,\n    cardDOM,\n    buttonText,\n    isOpen,\n    onClose,\n    onCardDeleteSubmit,\n}) {\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault()\n        onCardDeleteSubmit(card, cardDOM)\n    }\n    return (\n        <PopupWithForm\n            title={title}\n            name={name}\n            buttonText={buttonText}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        ></PopupWithForm>\n    )\n}\n\nexport default PopupWithSubmit\n","import React from 'react'\n\nfunction ImagePopup({ card, onClose, isOpen, name }) {\n    function close() {\n        onClose()\n        window.removeEventListener('keydown', handleEscClose)\n    }\n    //закрывает при нажатии esc\n    function handleEscClose(evt) {\n        if (evt.key === 'Escape') {\n            close()\n        }\n    }\n    //закрывает попап при нажатии на фон\n    function closePopupByClickingOverlay(event) {\n        if (event.target === event.currentTarget) {\n            close()\n        }\n    }\n    if (isOpen) {\n        window.addEventListener('keydown', handleEscClose)\n    }\n\n    return (\n        <section\n            className={`popup popup_type_${name} ${isOpen && 'popup_opened'}\n                `}\n            onClick={closePopupByClickingOverlay}\n        >\n            <div className=\"popup__container-pic-zoom\">\n                <button className=\"link popup__close-button\" onClick={close} />\n                <figure className=\"picture-zoom\">\n                    <img\n                        src={card ? card.link : ''}\n                        alt={card ? card.name : ''}\n                        className=\"picture-zoom__img\"\n                    />\n                    <p className=\"picture-zoom__title\">\n                        {card ? card.name : ''}\n                    </p>\n                </figure>\n            </div>\n        </section>\n    )\n}\n\nexport default ImagePopup\n","import React, { useState, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(CurrentUserContext)\n\n    // для заполнения инпутов текущими данными пользователя\n    const [name, setName] = useState('')\n    const [description, setDescription] = useState('')\n\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    useEffect(() => {\n        setName(currentUser.name)\n        setDescription(currentUser.about)\n    }, [currentUser])\n    // при введении текста в инпут будет обновлять стейт\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n    function handleDescribChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleClose() {\n        // если изменены инпуты, но не засабмичены, то не станет сохранять их values ????????????????????????\n        setName(currentUser.name)\n        setDescription(currentUser.about)\n\n        onClose()\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault()\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name,\n            about: description,\n        })\n    }\n\n    return (\n        <PopupWithForm\n            title=\"Редактировать профиль\"\n            name=\"edit-profile\"\n            buttonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={handleClose}\n            onSubmit={handleSubmit}\n        >\n            <label className=\"popup__label\">\n                <input\n                    type=\"text\"\n                    value={name}\n                    onChange={handleNameChange}\n                    name=\"profile-name\"\n                    placeholder=\"Имя\"\n                    id=\"profile-name\"\n                    className=\"input popup__input popup__input_type_name\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"40\"\n                />\n                <span className=\"popup__input-error js-popup__input-error_type_profile\"></span>\n            </label>\n            <label className=\"popup__label\">\n                <input\n                    type=\"text\"\n                    value={description}\n                    onChange={handleDescribChange}\n                    name=\"profile-job\"\n                    id=\"profile-job\"\n                    placeholder=\"Род деятельности\"\n                    className=\"input popup__input popup__input_type_job\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"200\"\n                />\n                <span className=\"popup__input-error js-popup__input-error_type_profile\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup\n","import React, { useRef } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const avatarInput = useRef({})\r\n\r\n    function handleSubmit(e) {\r\n        onUpdateAvatar({\r\n            avatar: avatarInput.current.value,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Обновить аватар\"\r\n            name=\"edit-avatar\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <input\r\n                    ref={avatarInput}\r\n                    type=\"url\"\r\n                    name=\"avatar\"\r\n                    id=\"avatar\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"input popup__input popup__input_type_avatar\"\r\n                    required\r\n                />\r\n                <span className=\"popup__input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup\r\n","import React, { useState } from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [cardName, setCardName] = useState('')\n    const [cardDescription, setCardDescription] = useState('')\n\n    function handleSubmit(e) {\n        e.preventDefault()\n\n        onAddPlace({\n            name: cardName,\n            link: cardDescription,\n        })\n        setCardName('')\n        setCardDescription('')\n    }\n\n    function handleNameChange(e) {\n        setCardName(e.target.value)\n    }\n    function handleDescibChange(e) {\n        setCardDescription(e.target.value)\n    }\n    function close() {\n        setCardName('')\n        setCardDescription('')\n        onClose()\n    }\n\n    return (\n        <PopupWithForm\n            title=\"Новое место\"\n            name=\"add-place\"\n            buttonText=\"Создать\"\n            isOpen={isOpen}\n            onClose={close}\n            onSubmit={handleSubmit}\n        >\n            <label className=\"popup__label\">\n                <input\n                    type=\"text\"\n                    value={cardName}\n                    onChange={handleNameChange}\n                    name=\"place-name\"\n                    placeholder=\"Название\"\n                    id=\"place-name\"\n                    className=\"input popup__input popup__input_type_place-name\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"30\"\n                />\n                <span className=\"popup__input-error\"></span>\n            </label>\n            <label className=\"popup__label\">\n                <input\n                    type=\"url\"\n                    value={cardDescription}\n                    onChange={handleDescibChange}\n                    name=\"place-pic\"\n                    id=\"place-pic\"\n                    placeholder=\"Ссылка на картинку\"\n                    className=\"input popup__input popup__input_type_place-pic\"\n                    required\n                />\n                <span className=\"popup__input-error\"></span>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup\n","import React from 'react'\n// общий шаблон для форм регистрации и логина\nfunction RegisterLoginTemplate({ title, children, onSubmit }) {\n    return (\n        <>\n            <section className=\"popup__register-login\">\n                <section className=\"popup__container-register-login\">\n                    <form\n                        className=\"popup__form\"\n                        noValidate\n                        onSubmit={onSubmit}\n                    >\n                        <h2 className=\"popup__title popup__title_type_login\">\n                            {title}\n                        </h2>\n                        <fieldset className=\"popup__fieldset\">\n                            {children}\n                        </fieldset>\n                    </form>\n                </section>\n            </section>\n        </>\n    )\n}\n\nexport default RegisterLoginTemplate\n","import React, { useState } from 'react'\r\nimport RegisterLoginTemplate from './RegisterLoginTemplate'\r\n\r\nconst Login = ({ onLogin, message, loggedIn }) => {\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: '',\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target\r\n        setData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value,\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { email, password } = data\r\n\r\n        if (!email || !password) {\r\n            return\r\n        }\r\n        onLogin(email, password)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (loggedIn) {\r\n            setData({ email: '', password: '' })\r\n        }\r\n    }, [loggedIn])\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <RegisterLoginTemplate title=\"Вход\" onSubmit={handleSubmit}>\r\n                <label className=\"popup__label\">\r\n                    <input\r\n                        type=\"email\"\r\n                        value={data.email}\r\n                        onChange={handleChange}\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        id=\"email\"\r\n                        className=\"input popup__input popup__input_type_dark\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"320\"\r\n                    />\r\n                    <span className=\"popup__input-error\">{message}</span>\r\n                </label>\r\n                <label className=\"popup__label\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={data.password}\r\n                        onChange={handleChange}\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"input popup__input popup__input_type_dark\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"popup__input-error\">{message}</span>\r\n                </label>\r\n                <button\r\n                    className=\"link popup__save-button popup__save-button_type_dark\"\r\n                    autoFocus\r\n                    type=\"submit\"\r\n                >\r\n                    Войти\r\n                </button>\r\n            </RegisterLoginTemplate>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n                props.loggedIn === true ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to=\"/sign-up\" />\n                )\n            }\n        </Route>\n    )\n}\n\nexport default ProtectedRoute\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport RegisterLoginTemplate from './RegisterLoginTemplate'\r\n\r\nconst Register = ({ onRegister, message }) => {\r\n    const [data, setData] = useState({\r\n        email: '',\r\n        password: '',\r\n    })\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target\r\n        setData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value,\r\n        }))\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { email, password } = data\r\n\r\n        onRegister(email, password)\r\n    }\r\n\r\n    return (\r\n        <div className=\"register\">\r\n            <RegisterLoginTemplate title=\"Регистрация\" onSubmit={handleSubmit}>\r\n                <label className=\"popup__label\">\r\n                    <input\r\n                        type=\"email\"\r\n                        value={data.email}\r\n                        onChange={handleChange}\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        id=\"email\"\r\n                        className=\"input popup__input popup__input_type_dark\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"320\"\r\n                    />\r\n                    <span className=\"popup__input-error popup__input-error_active\">\r\n                        {message}\r\n                    </span>\r\n                </label>\r\n                <label className=\"popup__label\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={data.password}\r\n                        onChange={handleChange}\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Пароль\"\r\n                        className=\"input popup__input popup__input_type_dark\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"popup__input-error popup__input-error_active\">\r\n                        {message}\r\n                    </span>\r\n                </label>\r\n                <button\r\n                    className=\"link popup__save-button popup__save-button_type_dark\"\r\n                    autoFocus\r\n                    type=\"submit\"\r\n                >\r\n                    Зарегистрироваться\r\n                </button>\r\n                <Link to=\"/sign-in\" className=\"link popup__login-link\">\r\n                    Уже зарегистрированны? Войти\r\n                </Link>\r\n            </RegisterLoginTemplate>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React from 'react'\nimport success from '../images/success-icon.svg'\nimport fail from '../images/fail-icon.svg'\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess }) {\n    // проверяет нажатие esc\n    if (isOpen) {\n        window.addEventListener('keydown', (evt) => handleEscClose(evt))\n    }\n    function closeReset() {\n        onClose()\n        window.removeEventListener('keydown', handleEscClose)\n    }\n    //закрывает при нажатии esc\n    function handleEscClose(evt) {\n        if (evt.key === 'Escape') {\n            closeReset()\n        }\n    }\n    //закрывает попап при нажатии на фон\n    function closePopupByClickingOverlay(event) {\n        if (event.target === event.currentTarget) {\n            closeReset()\n        }\n    }\n\n    return (\n        <>\n            <section\n                className={`popup popup_type_form ${isOpen && 'popup_opened'}`}\n                onClick={closePopupByClickingOverlay}\n            >\n                <div className=\"popup__container\">\n                    {isSuccess ? (\n                        <>\n                            <img\n                                src={success}\n                                alt=\"Галочка\"\n                                className=\"popup__infotool-img\"\n                            />\n                            <p className=\"popup__infotool-text\">\n                                Вы успешно зарегистрировались!\n                            </p>\n                        </>\n                    ) : (\n                        <>\n                            <img\n                                src={fail}\n                                alt=\"Красный крестик\"\n                                className=\"popup__infotool-img\"\n                            />\n                            <p className=\"popup__infotool-text\">\n                                Что-то пошло не так. Попробуйте ещё раз!\n                            </p>\n                        </>\n                    )}\n                    <button\n                        className=\"popup__close-button\"\n                        onClick={onClose}\n                    ></button>\n                </div>\n            </section>\n        </>\n    )\n}\n\nexport default InfoTooltip\n","export const BASE_URL = 'https://auth.nomoreparties.co'\r\n\r\nconst getResponseData = (res) => {\r\n    if (res.ok) {\r\n        return res.json()\r\n    }\r\n    return Promise.reject(res.status)\r\n}\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n    }).then((res) => {\r\n        return getResponseData(res)\r\n    })\r\n}\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n    }).then((res) => {\r\n        return getResponseData(res)\r\n    })\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n    }).then((res) => {\r\n        return getResponseData(res)\r\n    })\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport api from '../utils/api'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithSubmit from './PopupWithSubmit'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport { cleanInputErrors } from './FormValidator'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport Login from './Login'\nimport ProtectedRoute from './ProtectedRoute'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport * as auth from '../utils/auth.js'\nimport { getToken, removeToken } from '../utils/token'\nimport { setToken } from '../utils/token'\n\nfunction App() {\n    //состояние попапов\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n    const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = useState(false)\n    const [isImgPopupOpen, setIsImgPopupOpen] = useState(false)\n    const [isInfoTooltipOpen, setInfoTooltipOpen] = useState(false)\n\n    const [cards, setCards] = useState([])\n\n    const profileAvatarSelector = '.profile__image'\n    // Данные текущего пользователя будут использованы как контекст (пока не пришли даннные с сервера покажет Жака)\n    const [currentUser, setCurrentUser] = useState({\n        name: 'Жак Ив Кусто',\n        about: 'Мореплаватель',\n        avatar:\n            'https://kaskad.tv/images/2020/foto_zhak_iv_kusto__-_interesnie_fakti_20190810_2078596433.jpg',\n    })\n    // для попапа с полноразмерной картинкой\n    const [selectedCard, setSelectedCard] = useState()\n    // для удаления карточки\n    const [selectedCardDOM, setSelectedCardDOM] = useState()\n\n    const [userEmail, setUserEmail] = useState({ email: '' })\n    const [loggedIn, setLoggedIn] = useState(false)\n    const history = useHistory()\n    const [message, setMessage] = useState('')\n    // для показа (не)успешной регистрации\n    const [registerSuccess, setRegisterSuccess] = useState(false)\n\n    // открывают попапы\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true)\n    }\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true)\n    }\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true)\n    }\n\n    //для открытия попапа с увеличенной картинкой\n    function handleCardClick(card) {\n        setSelectedCard(card)\n        setIsImgPopupOpen(true)\n    }\n\n    // закрывает все попапы меняя их состояние\n    function closeAllPopups() {\n        //убирает уведомления об ошибках от предыдущих инпутов\n        cleanInputErrors()\n\n        setIsEditAvatarPopupOpen(false)\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setIsCardDeletePopupOpen(false)\n        setIsImgPopupOpen(false)\n        setInfoTooltipOpen(false)\n    }\n\n    // при монтировании компонента будет совершать запрос в API за пользовательскими данными и карточками\n    useEffect(() => {\n        Promise.all([api.getItems('users/me'), api.getItems('cards')])\n            .then((values) => {\n                const [userData, serverCards] = values\n                // отображает данные пользователья в профиле\n                setCurrentUser(userData)\n\n                // отобразит карточки с сервера\n                const items = serverCards.map((item) => ({\n                    name: item.name,\n                    link: item.link,\n                    _id: item._id,\n                    likes: item.likes,\n                    owner: item.owner,\n                }))\n                setCards(items)\n            })\n            .catch((err) => {\n                console.log(\n                    `Загрузка информации о пользователе и карточек: ${err}`\n                )\n            })\n    }, [])\n\n    // варианты замены текста кнопок при ожидании загрузки\n    const loadingText = 'Сохранение...'\n    const defaultSaveText = 'Сохранить'\n    const defaultCreateText = 'Создать'\n    const defaultYesText = 'Да'\n    // заменит текст кнопок при ожидании процесса загрузки данных на сервер\n    function renderLoading(isLoading, button, text) {\n        if (isLoading) {\n            button.textContent = loadingText\n        } else {\n            button.textContent = text\n        }\n    }\n    function handleCardLike(card) {\n        // проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n                const newCards = cards.map((c) =>\n                    c._id === card._id ? newCard : c\n                )\n                // Обновляем стейт\n                setCards(newCards)\n            })\n            .catch((err) => {\n                console.log(`Изменения статуса лайка: ${err}`)\n            })\n    }\n\n    function handleCardDeleteSubmit(card, cardDOMElement) {\n        const cardDeleteSubmitButton = document.querySelector(\n            '.popup__save-button_type_card-delete'\n        )\n        // ожидание загрузки\n        renderLoading(true, cardDeleteSubmitButton, defaultYesText)\n        api.deleteItem('cards', card._id)\n            .then(() => {\n                //вызывает удаление карточки из разметки\n                cardDOMElement.remove()\n            })\n            .then(() => {\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(`При удалении карточки: ${err}`)\n            })\n            .finally(() =>\n                renderLoading(false, cardDeleteSubmitButton, defaultYesText)\n            )\n    }\n    // удаляет карточку\n    function handleCardDelete(card, cardDOMElement) {\n        setIsCardDeletePopupOpen(true)\n        setSelectedCard(card)\n        setSelectedCardDOM(cardDOMElement)\n    }\n    // обновляет профиль\n    function handleUpdateUser(userData) {\n        const profileSubmitButton = document.querySelector(\n            '.popup__save-button_type_edit-profile'\n        )\n        // ожидание загрузки\n        renderLoading(true, profileSubmitButton, defaultSaveText)\n\n        api.changeItem(\n            {\n                name: userData.name.trim(),\n                about: userData.about.trim(),\n            },\n            'users/me'\n        )\n            .then((res) => {\n                //установим новые данные профиля в разметке\n                setCurrentUser(res)\n            })\n            .then(() => {\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(`При обновлении информации о пользователе: ${err}`)\n            })\n            .finally(() => {\n                renderLoading(false, profileSubmitButton, defaultSaveText)\n            })\n    }\n\n    function handleUpdateAvatar(userData) {\n        const avatarSubmitButton = document.querySelector(\n            '.popup__save-button_type_edit-avatar'\n        )\n        // до получения ответа от сервера покажет пользователю надпись о процессе загрузки\n        renderLoading(true, avatarSubmitButton, defaultSaveText)\n\n        api.changeItem({ avatar: userData.avatar }, 'users/me/avatar')\n            .then((res) => {\n                //установим новые данные профиля\n                setCurrentUser(res)\n                // установим новый аватар в разметке\n                document.querySelector(\n                    profileAvatarSelector\n                ).style.backgroundImage = `url('${res.avatar}')`\n            })\n            .then(() => {\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(`При изменении аватара пользователя: ${err}`)\n            })\n            .finally(() => {\n                renderLoading(false, avatarSubmitButton, defaultSaveText)\n            })\n    }\n    // добавит новую карточку места\n    function handleAddPlaceSubmit(newCard) {\n        const placeSubmitButton = document.querySelector(\n            '.popup__save-button_type_add-place'\n        )\n        // до получения ответа от сервера покажет пользователю надпись о процессе загрузки\n        renderLoading(true, placeSubmitButton, defaultCreateText)\n\n        api.createItem(newCard, 'cards')\n            // создаст ее в разметке\n            .then((newCard) => {\n                setCards([newCard, ...cards])\n            })\n            .then(() => {\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(`Добавление карточки: ${err}`)\n            })\n            .finally(() => {\n                renderLoading(false, placeSubmitButton, defaultCreateText)\n            })\n    }\n\n    function infoTooltipOpen() {\n        setInfoTooltipOpen(true)\n    }\n\n    function onSignOut() {\n        removeToken()\n        history.push('/sign-in')\n    }\n\n    function handleLogin(email, password) {\n        auth.authorize(email, password)\n            .then((data) => {\n                if (!data) {\n                    setMessage('Что-то пошло не так при авторизации в Login!')\n                    return false\n                }\n                if (data.token) {\n                    setToken(data.token)\n                    setMessage('')\n\n                    setUserEmail({ email: email })\n                    setLoggedIn(true)\n                    history.push('/')\n                    return loggedIn\n                }\n            })\n            .catch((err) => {\n                if (err === 401) {\n                    return console.log(\n                        `Пользователь с email не найден : ${err}`\n                    )\n                }\n                if (err === 400) {\n                    return console.log(`Не передано одно из полей : ${err}`)\n                }\n                console.log(`App authorize Error: ${err}`)\n            })\n    }\n    function handleRegisterSuccess() {\n        setRegisterSuccess(true)\n    }\n    function handleRegisterFail() {\n        setRegisterSuccess(false)\n    }\n\n    function handleRegister(email, password) {\n        auth.register(email, password)\n            .then((res) => {\n                if (res) {\n                    if (res.data) {\n                        setMessage('')\n                        handleRegisterSuccess()\n                        infoTooltipOpen()\n                        history.push('/sign-in')\n                    }\n                }\n            })\n            .catch((err) => {\n                setMessage('Ошибка при регистрации в Register')\n                handleRegisterFail()\n                infoTooltipOpen()\n                if (err === 400) {\n                    return console.log(\n                        `Некорректно заполнено одно из полей : ${err}`\n                    )\n                }\n\n                console.log(`App onRegister: ${err}`)\n            })\n    }\n\n    const tokenCheck = () => {\n        const jwt = getToken()\n\n        if (!jwt) {\n            return\n        }\n\n        auth.getContent(jwt)\n            .then((res) => {\n                if (res) {\n                    const userCurrentEmail = {\n                        email: res.data.email,\n                    }\n                    setLoggedIn(true)\n                    setUserEmail(userCurrentEmail)\n                    history.push('/')\n                }\n            })\n            .catch((err) => {\n                console.log(`getContent: ${err}`)\n            })\n    }\n    // при монтировании компонента будет проверять токен\n    useEffect(() => {\n        tokenCheck()\n    }, [])\n\n    return (\n        <div className=\"page\">\n            <div className=\"page__container\">\n                <CurrentUserContext.Provider value={currentUser}>\n                    <Header onSignOut={onSignOut} userEmail={userEmail} />\n                    <Switch>\n                        <Route path=\"/sign-up\">\n                            <Register\n                                onRegister={handleRegister}\n                                message={message}\n                            />\n                        </Route>\n                        <Route path=\"/sign-in\">\n                            <Login\n                                onLogin={handleLogin}\n                                message={message}\n                                loggedIn={loggedIn}\n                            />\n                        </Route>\n\n                        <ProtectedRoute\n                            path=\"/\"\n                            loggedIn={loggedIn}\n                            onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onEditAvatar={handleEditAvatarClick}\n                            handleCardClick={handleCardClick}\n                            cards={cards}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleCardDelete}\n                            component={Main}\n                        />\n                    </Switch>\n\n                    {loggedIn && <Footer />}\n                    <InfoTooltip\n                        isOpen={isInfoTooltipOpen}\n                        onClose={closeAllPopups}\n                        isSuccess={registerSuccess}\n                    />\n                    <EditProfilePopup\n                        isOpen={isEditProfilePopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                    />\n\n                    <AddPlacePopup\n                        isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}\n                    />\n\n                    <EditAvatarPopup\n                        isOpen={isEditAvatarPopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                    />\n\n                    <PopupWithSubmit\n                        title=\"Вы уверены?\"\n                        name=\"card-delete\"\n                        card={selectedCard}\n                        cardDOM={selectedCardDOM}\n                        buttonText=\"Да\"\n                        isOpen={isCardDeletePopupOpen}\n                        onClose={closeAllPopups}\n                        onCardDeleteSubmit={handleCardDeleteSubmit}\n                    ></PopupWithSubmit>\n\n                    <ImagePopup\n                        name=\"picture-zoom\"\n                        isOpen={isImgPopupOpen}\n                        card={selectedCard}\n                        onClose={closeAllPopups}\n                    />\n                </CurrentUserContext.Provider>\n            </div>\n        </div>\n    )\n}\n\nexport default App\n","const TOKEN_KEY = 'jwt'\r\n\r\nexport const setToken = (token) => {\r\n    localStorage.setItem(TOKEN_KEY, token)\r\n}\r\n\r\nexport const getToken = () => localStorage.getItem(TOKEN_KEY)\r\n\r\nexport const removeToken = () => {\r\n    localStorage.removeItem(TOKEN_KEY)\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === '[::1]' ||\r\n        // 127.0.0.0/8 are considered localhost for IPv4.\r\n        window.location.hostname.match(\r\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n        )\r\n)\r\n\r\nexport function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config)\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\r\n                        'This web app is being served cache-first by a service ' +\r\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n                    )\r\n                })\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing\r\n                if (installingWorker == null) {\r\n                    return\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\r\n                                'New content is available and will be used when all ' +\r\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                            )\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration)\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log('Content is cached for offline use.')\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error during service worker registration:', error)\r\n        })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n        headers: { 'Service-Worker': 'script' },\r\n    })\r\n        .then((response) => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get('content-type')\r\n            if (\r\n                response.status === 404 ||\r\n                (contentType != null &&\r\n                    contentType.indexOf('javascript') === -1)\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then((registration) => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config)\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\r\n                'No internet connection found. App is running in offline mode.'\r\n            )\r\n        })\r\n}\r\n\r\nexport function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready\r\n            .then((registration) => {\r\n                registration.unregister()\r\n            })\r\n            .catch((error) => {\r\n                console.error(error.message)\r\n            })\r\n    }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}